<div class="flex flex-col items-center w-full">
  <h2 class='font-semibold text-xl text-blue-700'>Buy Credits</h2>
  <div class='py-4 w-auto'>
    <%= form_with model: @credit, url: credits_path, method: :post, local: true do |f| %>
      <div class="field">
        <%= f.label :amount, "Amount", class: "block mb-1" %>
        <%= f.number_field :amount, class: "input", required: true %>
      </div>
      <div class="mt-10 flex flex-col">
        <h3 class='mb-3 font-semibold'>Payment info (Credit Card)</h3>
        <div class='flex flex-row gap-4 py-4'>
          <div>
            <%= f.label :card_name, "Card name", class: "block mb-1" %>
            <%= f.text_field :card_name, class: "input", required: true %>
          </div>
          <div>
            <%= f.label :card_number, "Card number", class: "block mb-1" %>
            <%= f.text_field(
              :card_number,
              class: "input", required: true,
              onkeypress:"$(this).mask('0000 0000 0000 0000')",
            ) %>
          </div>
        </div>
        <div class='flex flex-row gap-4 py-4'>
          <div>
            <%= f.label :card_expiration, "Expiration date", class: "block mb-1" %>
            <%= f.text_field(
              :card_expiration,
              class: "input",
              required: true,
              onkeypress:"$(this).mask('00/0000')",
            ) %>
            <%# TODO: Show Card flag %>
          </div>
          <div>
            <%= f.label :cart_security_code, "CVV", class: "block mb-1" %>
            <%= f.text_field(
              :cart_security_code,
              class: "input",
              required: true,
              onkeypress:"$(this).mask('000')",
            ) %>
          </div>
        </div>
        <% flash.each do |name, message| %>
        <p class="text-sm text-red-500"><%= message %></p>
        <% end %>
      </div>
      <div class="actions">
        <%= f.submit "Buy", class: "mt-5 w-full text-center p-4 rounded text-white bg-blue-700 hover:bg-blue-800 cursor-pointer" %>
      </div>
    <% end %>
  </div>
</div>
